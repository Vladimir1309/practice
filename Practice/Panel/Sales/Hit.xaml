<Window x:Class="Practice.Panel.Delivery.Hit"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Practice.Panel.Delivery"
        mc:Ignorable="d"
        Title="Пробитие товара" Height="1000" Width="1400">
    <Grid>
        <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="133" VerticalAlignment="Top" Width="391" Background="#FFB70000"/>
        <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="875" VerticalAlignment="Top" Width="391" Background="#33343D" Margin="0,133,0,0"/>
        <Label x:Name="GWAN" Content="GWAN-Sales" HorizontalAlignment="Left" Height="65" Margin="51,34,0,0" VerticalAlignment="Top" Width="288" FontSize="48" Foreground="Black" FontFamily="Georgia"/>

        <Border BorderBrush="Black" BorderThickness="1" HorizontalAlignment="Left" Height="48" Margin="-1,161,0,0" VerticalAlignment="Top" Width="392" Background="#FFB70000"/>

        <Button Content="Пробить товар" HorizontalAlignment="Left" Margin="6,167,0,0" VerticalAlignment="Top" Width="380" Height="36" Background="White" FontSize="20" Cursor="Hand" Click="Hitt"/>
        <Button Content="Оформить возврат" HorizontalAlignment="Left" Margin="6,213,0,0" VerticalAlignment="Top" Width="380" Height="36" Background="White" FontSize="20" Cursor="Hand" Click="Back"/>
        <Button Content="История заказов" HorizontalAlignment="Left" Margin="6,259,0,0" VerticalAlignment="Top" Width="380" Height="36" Background="White" FontSize="20" Cursor="Hand" Click="History"/>

        <Image HorizontalAlignment="Left" Height="56" Margin="174,941,0,0" VerticalAlignment="Top" Width="56" Source="/materials/2/3/Logout.png" Cursor="Hand" MouseLeftButtonDown="MLBD_Exit"/>

        <!-- Заменяем TextBox на ComboBox для клиентов -->
        <Label Content="Клиент:" HorizontalAlignment="Left" Height="60" Margin="593,227,0,0" VerticalAlignment="Top" Width="254" FontSize="36"/>

        <ComboBox x:Name="ClientComboBox" 
                  HorizontalAlignment="Left" 
                  Height="51" 
                  Margin="928,241,0,0" 
                  VerticalAlignment="Top" 
                  Width="300" 
                  FontSize="16"
                  SelectionChanged="ClientComboBox_SelectionChanged"
                  VerticalContentAlignment="Center">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding IdUser}" Width="50" FontWeight="Bold"/>
                        <TextBlock Text=" - " Margin="5,0,5,0"/>
                        <TextBlock Text="{Binding LastName}" Width="100"/>
                        <TextBlock Text=" " />
                        <TextBlock Text="{Binding FirstName}" Width="100"/>
                        <TextBlock Text=" ( " Margin="5,0,0,0"/>
                        <TextBlock Text="{Binding Phone}" Width="100"/>
                        <TextBlock Text=")" />
                    </StackPanel>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>

        <Label Content="Id товара:" HorizontalAlignment="Left" Height="60" Margin="593,297,0,0" VerticalAlignment="Top" Width="254" FontSize="36"/>
        <Label Content="Наименование:" HorizontalAlignment="Left" Height="60" Margin="593,362,0,0" VerticalAlignment="Top" Width="269" FontSize="36"/>
        <Label Content="Стоимость:" HorizontalAlignment="Left" Height="60" Margin="593,422,0,0" VerticalAlignment="Top" Width="254" FontSize="36"/>

        <!-- Добавленный Label для остатка на складе -->
        <Label x:Name="StockLabel" 
               Content="" 
               HorizontalAlignment="Left" 
               Height="40" 
               Margin="928,485,0,0" 
               VerticalAlignment="Top" 
               Width="300" 
               FontSize="16"
               Foreground="#FF008000"
               Visibility="Collapsed"/>

        <Label Content="Количество:" HorizontalAlignment="Left" Height="60" Margin="593,532,0,0" VerticalAlignment="Top" Width="254" FontSize="36"/>

        <TextBox x:Name="IdProductText" HorizontalAlignment="Left" Height="51" Margin="928,311,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="111" VerticalContentAlignment="Center"/>

        <Label x:Name="ProductNameLabel" 
               Content="-" 
               HorizontalAlignment="Left" 
               Height="60" 
               Margin="928,362,0,0" 
               VerticalAlignment="Top" 
               Width="400" 
               FontSize="36"
               Foreground="Gray"/>

        <Label x:Name="ProductPriceLabel" 
               Content="0 ₽" 
               HorizontalAlignment="Left" 
               Height="60" 
               Margin="928,422,0,0" 
               VerticalAlignment="Top" 
               Width="200" 
               FontSize="36"
               Foreground="Gray"/>

        <TextBox x:Name="Amount" 
                 HorizontalAlignment="Left" 
                 Height="50" 
                 Margin="928,542,0,0" 
                 TextWrapping="Wrap" 
                 Text="1" 
                 VerticalAlignment="Top" 
                 Width="111" 
                 VerticalContentAlignment="Center"
                 TextChanged="Amount_TextChanged"/>

        <Label Content="Сумма заказа:" 
               HorizontalAlignment="Left" 
               Height="60" 
               Margin="593,606,0,0" 
               VerticalAlignment="Top" 
               Width="254" 
               FontSize="36"/>

        <Label x:Name="OrderTotalLabel" 
               Content="0 ₽" 
               HorizontalAlignment="Left" 
               Height="60" 
               Margin="928,606,0,0" 
               VerticalAlignment="Top" 
               Width="200" 
               FontSize="36"
               Foreground="#FFB70000"
               FontWeight="Bold"/>

        <Button Content="Оформить продажу" 
                HorizontalAlignment="Left" 
                Height="45" 
                Margin="593,722,0,0" 
                VerticalAlignment="Top" 
                Width="446" 
                Background="#FFB70000" 
                Foreground="White" 
                Cursor="Hand" 
                FontSize="20" 
                Click="ProcessSaleButton_Click"/>

        <Button Content="Отмена" 
                HorizontalAlignment="Left" 
                Height="45" 
                Margin="593,772,0,0" 
                VerticalAlignment="Top" 
                Width="446" 
                Background="#FFB70000" 
                Foreground="White" 
                Cursor="Hand" 
                FontSize="20" 
                Click="Cancel"/>

        <TextBlock Text="Введите ID и нажмите 'Найти'" 
                   HorizontalAlignment="Left" 
                   Margin="928,295,0,0" 
                   VerticalAlignment="Top" 
                   Foreground="Gray" 
                   FontSize="12"/>

        <Button Content="Найти" 
                HorizontalAlignment="Left" 
                Height="34" 
                Margin="1055,319,0,0" 
                VerticalAlignment="Top" 
                Width="80" 
                Background="#FFB70000" 
                Foreground="White" 
                Cursor="Hand" 
                FontSize="14"
                Click="FindProductButton_Click"/>

        <TextBlock Text="Введите количество" 
                   HorizontalAlignment="Left" 
                   Margin="928,595,0,0" 
                   VerticalAlignment="Top" 
                   Foreground="Gray" 
                   FontSize="12"/>

        <TextBlock Text="Сумма обновится автоматически" 
                   HorizontalAlignment="Left" 
                   Margin="928,669,0,0" 
                   VerticalAlignment="Top" 
                   Foreground="Gray" 
                   FontSize="12"/>

        <!-- Кнопка обновления списка клиентов -->
        <Button Content="🔄" 
                HorizontalAlignment="Left" 
                Height="34" 
                Margin="1235,244,0,0" 
                VerticalAlignment="Top" 
                Width="34" 
                Background="#FFB70000" 
                Foreground="White" 
                Cursor="Hand" 
                FontSize="14"
                ToolTip="Обновить список клиентов"
                Click="RefreshClientsButton_Click"/>

    </Grid>
</Window>